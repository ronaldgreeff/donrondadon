<!DOCTYPE html>
<html>
  <head>
    <title></title>
  </head>
  <style type="text/css">
    .wrapper {
      height: 100vh;
      color: white;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .text {
      font-size: 40px;
      color: black;
      transition: opacity 0.5s linear;
    }
    .buttons {}

    /*.new {
        opacity: 0;
    }

    .old, .new {
        transition: opacity 0.5s linear;
    }

    .wrap:hover .old {
        opacity: 0;
    }
    .wrap:hover .new {
        opacity: 1;
    }*/

  </style>
  <body>
    <div class="wrapper">
      <div id="central-text" class="text"></div>
      <div id="button-wrapper" class="buttons"></div>
    </div>

    <script type="text/javascript">

      class contentHandler {
        constructor() {

          this.script = {
            0: {
              t: 'hi',
              o: {
                0: ['hi', 1],
                1: ['hi!', 1],
                2: ['hi?', 1],
              }
            },
            1: {
              t: "so what can i do for you?",
              o: {
                0: ['cv', 2],
                1: ['about', 3],
              }
            },
            2: {
              t: 'this is a cv',
              o: [null, null],
            },
            3: {
              t: 'this is about',
              o: [null, null],
            }
          }

          this.updateFrame = (i) => {

            let item = this.script[i]

            let fragment = new DocumentFragment();
            for (var o in item.o) {
              let text = item.o[o][0]
              let _id = item.o[o][1]
              var button = document.createElement('button');
              button.textContent = text
              button.addEventListener('click', handleClick)
              fragment.appendChild(button);
            }

            document.getElementById('central-text').innerText = item.t;
            document.getElementById('button-wrapper').appendChild(fragment);
          }

          this.history = [];
          this.historyForward = (i) => { this.history.push(i) }
          this.historyBack = () => { return this.history.pop() }

          this.updateFrame(0)

        }
      }

      const handleClick = (_id) => {
        console.log(_id)
      }

      const docReady = (fn) => {
        document.readyState === 'complete' || document.readyState === 'interactive' ? setTimeout(fn, 1) : document.addEventListener('DOMContentLoaded', fn)
      }

      docReady(function() {
        new contentHandler()
      })

    </script>
  </body>
</html>